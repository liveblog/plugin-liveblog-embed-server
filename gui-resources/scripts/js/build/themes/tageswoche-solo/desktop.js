liveblog.define("plugins",{}),liveblog.define("plugins/pagination",["plugins","lib/utils"],function(e,t){return e.pagination=function(){t.dispatcher.once("initialize.posts-view",function(e){e.collection.clearPaginationParams(),liveblog.limit&&(e.collection.syncParams.pagination.limit=parseInt(liveblog.limit,10)),e.flags.loadingNextPage=!1,e.updateNextPageOffset=function(){this.collection.syncParams.pagination.offset=this.collection.length},e.topPage=function(){return delete this.collection.syncParams.pagination["order.end"],this.collection.syncParams.pagination.offset=0,this.collection.fetchPage({reset:!0})},e.nextPage=function(){if(!this.flags.loadingNextPage&&this.hasNextPage()){t.dispatcher.trigger("loading.posts-view",this),this.flags.loadingNextPage=!0,this.updateNextPageOffset();var e=this;return this.collection.fetchPage().done(function(){e.flags.loadingNextPage=!1,t.dispatcher.trigger("loaded.posts-view",e)})}},e.hasNextPage=function(){return this.collection.length<this.collection.filterProps.total},e.hasTopPage=function(){return this.flags.hasTopPage?!0:!1}})},e.pagination}),liveblog.define("lib/helpers/twitter",[],function(){var e={link:{anchor:function(e){return e.replace(/[äéöüßÄÖÜA-Za-z]+:\/\/[äéöüßÄÖÜA-Za-z0-9-_]+\.[äéöüßÄÖÜA-Za-z0-9-_:%&\?\/.=]+/g,function(e){return e=e.link(e),e=e.replace('href="','target="_blanka" href="')})},user:function(e){return e.replace(/[@]+[äéöüßÄÖÜA-Za-z0-9-_]+/g,function(e){var t=e.replace("@","");return e=e.link("http://twitter.com/"+t),e=e.replace('href="','target="_blankb" onclick="loadProfile(\''+t+'\');return(false);"  href="')})},tag:function(e){return e.replace(/[#]+[äéöüßÄÖÜA-Za-z0-9-_]+/g,function(e){var t=e.replace("#","%23");return e=e.link("http://twitter.com/search?q="+t),e=e.replace('href="','target="_blank" href="')})},all:function(e){return e=this.anchor(e),e=this.user(e),e=this.tag(e)}}};return e}),liveblog.define("tmpl!themeBase/plugins/after-button-pagination",["dust"],function(e){return function(){function t(e,t){return t=t.shiftBlocks(u),e.partial(n,t,null)}function n(e,t){return t=t.shiftBlocks(u),e.reference(t.get(["baseItem"],!1),t,"h")}function i(e,t){return t=t.shiftBlocks(u),e.write("load-next")}function o(e,t){return t=t.shiftBlocks(u),e.block(t.getBlock("loadNext"),t,{block:r},null).block(t.getBlock("loadingNext"),t,{block:l},null)}function r(e,t){return t=t.shiftBlocks(u),e}function l(e,t){return t=t.shiftBlocks(u),e}function s(e,t){return t=t.shiftBlocks(u),e.write('<a class="load-more">').helper("i18n",t,{},{msgid:"Load more posts ..."}).write("</a>")}function a(e,t){return t=t.shiftBlocks(u),e.write('<span class="loading-image"></span>')}function c(e,t){return t=t.shiftBlocks(u),e.write('data-gimme="posts.nextPage"')}e.register("themeBase/plugins/after-button-pagination",t);var u={itemClass:i,main:o,loadNext:s,loadingNext:a,additionalAttributes:c};return t}(),{render:function(t,n){return e.render("themeBase/plugins/after-button-pagination",t,n)}}}),liveblog.define("tmpl!themeBase/plugins/before-button-pagination",["dust"],function(e){return function(){function t(e,t){return t=t.shiftBlocks(u),e.partial(n,t,null)}function n(e,t){return t=t.shiftBlocks(u),e.reference(t.get(["baseItem"],!1),t,"h")}function i(e,t){return t=t.shiftBlocks(u),e.write("load-next")}function o(e,t){return t=t.shiftBlocks(u),e.block(t.getBlock("loadNext"),t,{block:r},null).block(t.getBlock("loadingNext"),t,{block:l},null)}function r(e,t){return t=t.shiftBlocks(u),e}function l(e,t){return t=t.shiftBlocks(u),e}function s(e,t){return t=t.shiftBlocks(u),e.write('<a class="load-more">Load top posts</a>')}function a(e,t){return t=t.shiftBlocks(u),e.write('<span class="loading-image"></span>')}function c(e,t){return t=t.shiftBlocks(u),e.write('data-gimme="posts.beforePage"')}e.register("themeBase/plugins/before-button-pagination",t);var u={itemClass:i,main:o,loadNext:s,loadingNext:a,additionalAttributes:c};return t}(),{render:function(t,n){return e.render("themeBase/plugins/before-button-pagination",t,n)}}}),liveblog.define("plugins/button-pagination",["backbone","plugins","plugins/pagination","dust","lib/utils","lib/helpers/display-toggle","tmpl!themeBase/item/base","tmpl!themeBase/plugins/after-button-pagination","tmpl!themeBase/plugins/before-button-pagination"],function(e,t,n,i,o,r){return delete t.pagination,t["button-pagination"]=function(t){n(t),o.dispatcher.on("initialize.blog-view",function(e){e.clientEvents({'click [data-gimme="posts.to-top"]':"toTop"}),e.toTop=function(){var e=this,t=e.el.offset();window.scrollTo(t.left,t.top)}}),o.dispatcher.once("add-all.posts-view",function(t){var n={};n.baseItem=i.themed("themeBase/item/base"),0===t.$('[data-gimme="posts.beforePage"]').length&&i.renderThemed("themeBase/plugins/before-button-pagination",n,function(n,i){var o=e.$(i);r(o,!1),t.$el.prepend(o)}),0===t.$('[data-gimme="posts.nextPage"]').length&&i.renderThemed("themeBase/plugins/after-button-pagination",n,function(n,i){var o=e.$(i);r(o,!1),t.$el.append(o)})}),o.dispatcher.once("add-all.posts-view",function(e){e.checkNextPage(),e.checkTopPage()}),o.dispatcher.once("initialize.posts-view",function(e){e.clientEvents({'click [data-gimme="posts.nextPage"]':"buttonNextPage",'click [data-gimme="posts.beforePage"]':"buttonTopPage"}),e.checkTopPage=function(){r(this.$('[data-gimme="posts.beforePage"]'),this.hasTopPage())},e.checkNextPage=function(){r(this.$('[data-gimme="posts.nextPage"]'),this.hasNextPage()),o.dispatcher.trigger("pagination-next-updated.posts-view",this)},e.buttonNextPage=function(){e.flags.buttonNextPage=!0;var t=e.$('[data-gimme="posts.nextPage"]');t.addClass("loading"),e.nextPage().done(function(){e.flags.buttonNextPage=!1,t.removeClass("loading"),e.checkNextPage()})},e.buttonTopPage=function(){var t=e.$('[data-gimme="posts.beforePage"]');t.addClass("loading"),e.flags.topPage=!1,e.topPage().done(function(){t.removeClass("loading"),r(t,!1),e.checkNextPage()})}})},t["button-pagination"]}),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},t=[].slice;!function(e,t){return"function"==typeof liveblog.define&&liveblog.define.amd?liveblog.define("waypoints",["jquery"],function(n){return t(n,e)}):t(e.jQuery,e)}(this,function(n,i){var o,r,l,s,a,c,u,f,h,p,g,d,m,b,v,k;return o=n(i),f=e.call(i,"ontouchstart")>=0,s={horizontal:{},vertical:{}},a=1,u={},c="waypoints-context-id",g="resize.waypoints",d="scroll.waypoints",m=1,b="waypoints-waypoint-ids",v="waypoint",k="waypoints",r=function(){function e(e){var t=this;this.$element=e,this.element=e[0],this.didResize=!1,this.didScroll=!1,this.id="context"+a++,this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[c]=this.id,u[this.id]=this,e.bind(d,function(){var e;return t.didScroll||f?void 0:(t.didScroll=!0,e=function(){return t.doScroll(),t.didScroll=!1},i.setTimeout(e,n[k].settings.scrollThrottle))}),e.bind(g,function(){var e;return t.didResize?void 0:(t.didResize=!0,e=function(){return n[k]("refresh"),t.didResize=!1},i.setTimeout(e,n[k].settings.resizeThrottle))})}return e.prototype.doScroll=function(){var e,t=this;return e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!f||e.vertical.oldScroll&&e.vertical.newScroll||n[k]("refresh"),n.each(e,function(e,i){var o,r,l;return l=[],r=i.newScroll>i.oldScroll,o=r?i.forward:i.backward,n.each(t.waypoints[e],function(e,t){var n,o;return i.oldScroll<(n=t.offset)&&n<=i.newScroll?l.push(t):i.newScroll<(o=t.offset)&&o<=i.oldScroll?l.push(t):void 0}),l.sort(function(e,t){return e.offset-t.offset}),r||l.reverse(),n.each(l,function(e,t){return t.options.continuous||e===l.length-1?t.trigger([o]):void 0})}),this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.refresh=function(){var e,t,i,o=this;return i=n.isWindow(this.element),t=this.$element.offset(),this.doScroll(),e={horizontal:{contextOffset:i?0:t.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:t.top,contextScroll:i?0:this.oldScroll.y,contextDimension:i?n[k]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(e,function(e,t){return n.each(o.waypoints[e],function(e,i){var o,r,l,s,a;return o=i.options.offset,l=i.offset,r=n.isWindow(i.element)?0:i.$element.offset()[t.offsetProp],n.isFunction(o)?o=o.apply(i.element):"string"==typeof o&&(o=parseFloat(o),i.options.offset.indexOf("%")>-1&&(o=Math.ceil(t.contextDimension*o/100))),i.offset=r-t.contextOffset+t.contextScroll-o,i.options.onlyOnScroll&&null!=l||!i.enabled?void 0:null!==l&&l<(s=t.oldScroll)&&s<=i.offset?i.trigger([t.backward]):null!==l&&l>(a=t.oldScroll)&&a>=i.offset?i.trigger([t.forward]):null===l&&t.oldScroll>=i.offset?i.trigger([t.forward]):void 0})})},e.prototype.checkEmpty=function(){return n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([g,d].join(" ")),delete u[this.id]):void 0},e}(),l=function(){function e(e,t,i){var o,r;i=n.extend({},n.fn[v].defaults,i),"bottom-in-view"===i.offset&&(i.offset=function(){var e;return e=n[k]("viewportHeight"),n.isWindow(t.element)||(e=t.$element.height()),e-n(this).outerHeight()}),this.$element=e,this.element=e[0],this.axis=i.horizontal?"horizontal":"vertical",this.callback=i.handler,this.context=t,this.enabled=i.enabled,this.id="waypoints"+m++,this.offset=null,this.options=i,t.waypoints[this.axis][this.id]=this,s[this.axis][this.id]=this,o=null!=(r=this.element[b])?r:[],o.push(this.id),this.element[b]=o}return e.prototype.trigger=function(e){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,e),this.options.triggerOnce?this.destroy():void 0):void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},e.prototype.destroy=function(){return delete s[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},e.getWaypointsByElement=function(e){var t,i;return(i=e[b])?(t=n.extend({},s.horizontal,s.vertical),n.map(i,function(e){return t[e]})):[]},e}(),p={init:function(e,t){var i;return null==t&&(t={}),null==(i=t.handler)&&(t.handler=e),this.each(function(){var e,i,o,s;return e=n(this),o=null!=(s=t.context)?s:n.fn[v].defaults.context,n.isWindow(o)||(o=e.closest(o)),o=n(o),i=u[o[0][c]],i||(i=new r(o)),new l(e,i,t)}),n[k]("refresh"),this},disable:function(){return p._invoke.call(this,"disable")},enable:function(){return p._invoke.call(this,"enable")},destroy:function(){return p._invoke.call(this,"destroy")},prev:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){return t>0?e.push(n[t-1]):void 0})},next:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){return t<n.length-1?e.push(n[t+1]):void 0})},_traverse:function(e,t,o){var r,l;return null==e&&(e="vertical"),null==t&&(t=i),l=h.aggregate(t),r=[],this.each(function(){var t;return t=n.inArray(this,l[e]),o(r,t,l[e])}),this.pushStack(r)},_invoke:function(e){return this.each(function(){var t;return t=l.getWaypointsByElement(this),n.each(t,function(t,n){return n[e](),!0})}),this}},n.fn[v]=function(){var e,i;return i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],p[i]?p[i].apply(this,e):n.isFunction(i)?p.init.apply(this,arguments):n.isPlainObject(i)?p.init.apply(this,[null,i]):n.error(i?"The "+i+" method does not exist in jQuery Waypoints.":"jQuery Waypoints needs a callback function or handler option.")},n.fn[v].defaults={context:i,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return n.each(u,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return null!=(e=i.innerHeight)?e:o.height()},aggregate:function(e){var t,i,o;return t=s,e&&(t=null!=(o=u[n(e)[0][c]])?o.waypoints:void 0),t?(i={horizontal:[],vertical:[]},n.each(i,function(e,o){return n.each(t[e],function(e,t){return o.push(t)}),o.sort(function(e,t){return e.offset-t.offset}),i[e]=n.map(o,function(e){return e.element}),i[e]=n.unique(i[e])}),i):[]},above:function(e){return null==e&&(e=i),h._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){return null==e&&(e=i),h._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){return null==e&&(e=i),h._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){return null==e&&(e=i),h._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(e,t){return p[e]=t},_invoke:function(e){var t;return t=n.extend({},s.vertical,s.horizontal),n.each(t,function(t,n){return n[e](),!0})},_filter:function(e,t,i){var o,r;return(o=u[n(e)[0][c]])?(r=[],n.each(o.waypoints[t],function(e,t){return i(o,t)?r.push(t):void 0}),r.sort(function(e,t){return e.offset-t.offset}),n.map(r,function(e){return e.element})):[]}},n[k]=function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],h[n]?h[n].apply(null,e):h.aggregate.call(null,n)},n[k].settings={resizeThrottle:100,scrollThrottle:30},o.load(function(){return n[k]("refresh")})})}.call(this),liveblog.require.config({paths:{twitterWidgets:"//platform.twitter.com/widgets"},shim:{twitterWidgets:{exports:"twttr"}}}),liveblog.define("plugins/twitter-widgets",["underscore","backbone","plugins","dust","lib/utils"],function(e,t,n,i,o){return n["twitter-widgets"]=function(){if(o.isClient){o.dispatcher.on("before-render.post-view",function(e){"themeBase/item/source/twitter"===e.itemName()&&(e.parentView()._twitterPosts||(e.parentView()._twitterPosts=[]),e.parentView()._twitterPosts.push(e))}),o.dispatcher.on("add-all.posts-view",function(e){t(e)});var t=function(t){t._twitterPosts&&liveblog.require(["twitterWidgets","waypoints"],function(n){n.ready(function(){e.each(t._twitterPosts,function(e){e.$el.waypoint(function(){var t=e.model.get("Meta").id_str;n.widgets.createTweet(t,e.$el.find(".post-content-full").get(0),function(){e.$el.find(".post-core-content").remove()},{cards:"all"})},{triggerOnce:!0,offset:"120%",context:t.el})}),t._twitterPosts=[]})},function(){})}}},n["twitter-widgets"]}),liveblog.define("lib/helpers/escape-RegExp",[],function(){var e=function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")};return e}),liveblog.define("plugins/post-hash",["plugins","lib/utils","lib/helpers/escape-RegExp"],function(e,t,n){e["post-hash"]=function(){var e,i="liveblog.item.id",o=liveblog.hashmark?liveblog.hashmark:"?";e=t.isClient?window.location.href:liveblog.locationHref||"/",t.dispatcher.on("initialize.post-view",function(t){t.permalink=function(r){var l=r&&r.hashMark?r.hashMark:o,s=!1,a=i+"="+parseFloat(t.model.get("Order"));if(-1===e.indexOf(l))s=e+l+a;else if(-1!==e.indexOf(i+"=")){var c=new RegExp(n(i)+"=[^&#]*");s=e.replace(c,a)}else s=e+"&"+a;return s}}),t.dispatcher.on("initialize.posts-view",function(t){var n=e.indexOf(i+"=");-1!==n&&(t.collection.syncParams.pagination["order.end"]=parseFloat(e.substr(n+i.length+1)),t.flags.hasTopPage=!0,t.flags.autoRender=!1)})}}),liveblog.define("lib/helpers/visibility-toggle",[],function(){var e=function(e,t){var n="";return n=void 0!==t?t?"visible":"hidden":"visible"===e.css("visibility")?"hidden":"visible",e.css("visibility",n),"visible"===n?!0:!1};return e}),liveblog.define("tmpl!themeBase/plugins/permanent-link",["dust"],function(e){return function(){function t(e){return e.write('<a data-gimme="post.permalink" href="#" rel="bookmark" class="permalink">#</a><input data-gimme="post.share-permalink" type="text" style="visibility:hidden; z-index: 9000" value="">')}return e.register("themeBase/plugins/permanent-link",t),t}(),{render:function(t,n){return e.render("themeBase/plugins/permanent-link",t,n)}}}),liveblog.define("plugins/permanent-link",["plugins","lib/utils","dust","lib/helpers/visibility-toggle","tmpl!themeBase/item/base","tmpl!themeBase/plugins/permanent-link"],function(e,t,n,i){return t.isClient?(e.permalink=function(){t.dispatcher.on("after-render.post-view",function(e){n.renderThemed("themeBase/plugins/permanent-link",{},function(t,n){e.$('[data-gimme="post.permanent-link-placeholder"]').html(n)});var t="";e.permalink&&"function"==typeof e.permalink&&(t=e.permalink(),e.$('[data-gimme="post.share-permalink"]').val(t),e.$('[data-gimme="post.permalink"]').attr("href",t))}),t.dispatcher.on("initialize.post-view",function(e){e.clientEvents({'click [data-gimme="post.permalink"]':"permalinkAction"}),e.permalinkAction=function(e){e.preventDefault();var t=this.$(e.target).siblings('[data-gimme="post.share-permalink"]');if(i(t)){var n=this.$('[data-gimme^="post.share"][data-gimme!="post.share-permalink"]');i(n,!1),t.trigger("focus")}},e.clientEvents({'click [data-gimme="post.share-permalink"]':"permalinkInput",'focus [data-gimme="post.share-permalink"]':"permalinkInput"}),e.permalinkInput=function(t){e.$(t.target).select()},e.delegateEvents()})},e.permalink):void 0}),liveblog.define("lib/helpers/fixed-encodeURIComponent",[],function(){return function(e){return encodeURIComponent(e).replace(/'/g,"%27").replace(/!/g,"%21").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/~/g,"%7E")}}),liveblog.define("config/social-share-plugin",{urls:{pin:"//pinterest.com/pin/create/button/?url=%s&media=%s&description=%s",twt:"//twitter.com/home?status=%s %s: %s",lin:"//www.linkedin.com/shareArticle?mini=true&url=%s&title=%s&summary=%s",ggl:"//plus.google.com/share?url=%s&t=",email:"mailto:?to=&subject=%s&body=%s",fb:"//www.facebook.com/sharer.php?s=100&p[title]=%s&p[summary]=%s&p[url]=%s%s",fbImageComp:"&p[images][%s]=%s"},shareWindowSize:{pin:{h:400,w:700},twt:{h:400,w:570},lin:{h:400,w:570},ggl:{h:400,w:570},email:{h:1024,w:768},fb:{h:400,w:570}}}),liveblog.define("tmpl!themeBase/plugins/social-share-anchor",["dust"],function(e){return function(){function t(e,t){return e.write('<a data-gimme="post.social" href="#" class="sf-share">').helper("i18n",t,{},{msgid:"Share"}).write("</a>")}return e.register("themeBase/plugins/social-share-anchor",t),t}(),{render:function(t,n){return e.render("themeBase/plugins/social-share-anchor",t,n)}}}),liveblog.define("tmpl!themeBase/plugins/social-share",["dust"],function(e){return function(){function t(e,t){return e.write('<div data-gimme="post.share-social" class="share-box" style="visibility:hidden"><a href="#" class=\'social facebook\' target=\'_blank\' title="').helper("i18n",t,{},{msgid:"Share this post on Facebook"}).write('" data-gimme="fb"></a><a href="#" class=\'social twitter\' target=\'_blank\' title="').helper("i18n",t,{},{msgid:"Share this post on Twitter"}).write('" data-gimme="twt"></a><a href="#" class=\'social linkedin\' title="').helper("i18n",t,{},{msgid:"Share this post on Linkedin"}).write('" data-gimme="lin"></a>').section(t.get(["showPin"],!1),t,{block:n},null).write('<a href="#" class=\'social google\' title="').helper("i18n",t,{},{msgid:"Share this post on Google+"}).write('" data-gimme="ggl"></a><a href="').reference(t.get(["emailurl"],!1),t,"h").write("\" class='social email' title=\"").helper("i18n",t,{},{msgid:"Share this post via Email"}).write('" target="_blank"></a></div>')}function n(e,t){return e.write('<a href="#" class=\'social pinterest\' title="').helper("i18n",t,{},{msgid:"Share this post on Pinterest"}).write('" data-gimme="pin"></a>')}return e.register("themeBase/plugins/social-share",t),t}(),{render:function(t,n){return e.render("themeBase/plugins/social-share",t,n)}}}),liveblog.define("plugins/social-share",["backbone","underscore","plugins","lib/utils","dust","lib/gettext","lib/helpers/fixed-encodeURIComponent","lib/helpers/visibility-toggle","config/social-share-plugin","tmpl!themeBase/plugins/social-share-anchor","tmpl!themeBase/plugins/social-share"],function(e,t,n,i,o,r,l,s,a){i.isClient&&(n["social-share"]=function(){i.dispatcher.on("after-render.post-view",function(e){o.renderThemed("themeBase/plugins/social-share-anchor",{},function(t,n){e.$('[data-gimme="post.social-share-placeholder"]').html(n)})}),i.dispatcher.on("initialize.post-view",function(e){e.clientEvents({'click [data-gimme="post.social"]':"share"}),e.share=function(e){e.preventDefault();var t=this,i=n(t);t.socialShareUrls=c(i),o.renderThemed("themeBase/plugins/social-share",u(i),function(e,n){t.$('[data-gimme="post.social-share-placeholder"]').append(n)}),f(t);var r=t.$('[data-gimme="post.share-social"]'),l=t.$('[data-gimme^="post.share"]');"hidden"===r.css("visibility")&&s(l,!1),s(r)},e.openShareWindow=function(e){e.preventDefault();var t=this.$(e.target).data("gimme"),n=a.shareWindowSize[t].h,i=a.shareWindowSize[t].w,o=this.socialShareUrls[t],r="resizable, height="+n+", width="+i,l=window.open(o,"",r);return l.focus(),!1}});var n=function(t){var n=t.parentView().parentView().model,i=l(n.get("Title")),o=l(t.$(".result-content .result-text:last").text()),s="";t.permalink&&"function"==typeof t.permalink&&(s=l(t.permalink()));var c=t.$(".result-content img:first").attr("src");c||(c=e.$("img:first").attr("src"));var u="";t.$(".result-content img").each(function(t){u+=r.sprintf(a.fbURLImageComp,[t,e.$(this).attr("src")])});var f={pin:[s,c,i],twt:[r.gettext("Now reading"),i,s],lin:[s,i,o],ggl:[s],email:[r.gettext("Check out this Live Blog"),s],fb:[i,o,s,u]};return f},c=function(e){var n={};return delete e.email,t.each(e,function(t,i){n[i]=r.sprintf(a.urls[i],e[i])}),n},u=function(e){var t={};return t.emailurl=r.sprintf(a.urls.email,e.email),t},f=function(e){var n={};t.each(e.socialShareUrls,function(e,t){n['click [data-gimme="'+t+'"]']="openShareWindow"}),e.clientEvents(n),e.delegateEvents()}})}),liveblog.define("plugins/wrappup-toggle",["backbone","underscore","plugins","lib/utils","dust"],function(e,t,n,i){var o={hide:"slideUp",show:"slideDown"};i.isClient&&i.dispatcher.once("initialize.posts-view",function(e){e.clientEvents({'click [data-gimme="post.wrapup"]':"wrapupToggle"}),e.wrapupToggle=function(t){var n=e.$(t.target).closest('[data-gimme="post.wrapup"]'),i=n.attr("data-wrapup-open");n.hasClass(i)?(n.removeClass(i),n.nextUntil('[data-gimme="post.wrapup"],[data-gimme="posts.nextPage"]')[o.hide]()):(n.addClass(i),n.nextUntil('[data-gimme="post.wrapup"],[data-gimme="posts.nextPage"]')[o.show]())}})}),liveblog.define("tmpl!theme/container",["dust"],function(e){return function(){function t(e,t){return t=t.shiftBlocks(p),e.partial("themeBase/container",t,null)}function n(e,t){return t=t.shiftBlocks(p),e}function i(e,t){return t=t.shiftBlocks(p),e.write('<div class="liveblog-content">').block(t.getBlock("content"),t,{block:o},null).write("</div>")}function o(e,t){return t=t.shiftBlocks(p),e.block(t.getBlock("contentTopContainer"),t,{block:r},null).block(t.getBlock("contentMiddleContainer"),t,{block:a},null).block(t.getBlock("contentBottomContainer"),t,{block:f},null)}function r(e,t){return t=t.shiftBlocks(p),e.write('<div class="liveblog-content-top">').block(t.getBlock("contentTop"),t,{block:l},null).write("</div>")}function l(e,t){return t=t.shiftBlocks(p),e.block(t.getBlock("status"),t,{block:s},null)}function s(e,t){return t=t.shiftBlocks(p),e}function a(e,t){return t=t.shiftBlocks(p),e.write('<div class="liveblog-content-middle"> ').block(t.getBlock("contentMiddle"),t,{block:c},null).write("</div>")}function c(e,t){return t=t.shiftBlocks(p),e.block(t.getBlock("postsList"),t,{block:u},null)}function u(e,t){return t=t.shiftBlocks(p),e}function f(e,t){return t=t.shiftBlocks(p),e}function h(e,t){return t=t.shiftBlocks(p),e}e.register("theme/container",t);var p={headerContainer:n,contentContainer:i,footerContainer:h};return t}(),{render:function(t,n){return e.render("theme/container",t,n)}}}),liveblog.define("tmpl!theme/item/base",["dust"],function(e){return function(){function t(e,t){return t=t.shiftBlocks(g),e.partial("themeBase/item/base",t,null)}function n(e,t){return t=t.shiftBlocks(g),e}function i(e,t){return t=t.shiftBlocks(g),e.write('<div class="post-info">').block(t.getBlock("postDateContainer"),t,{block:o},null).block(t.getBlock("userNameContainer"),t,{block:r},null).block(t.getBlock("shareContainer"),t,{block:l},null).write("</div>").block(t.getBlock("commentBefore"),t,{block:s},null).block(t.getBlock("contentMainFull"),t,{block:a},null).block(t.getBlock("commentAfter"),t,{block:p},null)}function o(e,t){return t=t.shiftBlocks(g),e}function r(e,t){return t=t.shiftBlocks(g),e}function l(e,t){return t=t.shiftBlocks(g),e}function s(e,t){return t=t.shiftBlocks(g),e}function a(e,t){return t=t.shiftBlocks(g),e.write('<div class="post-content-full">').block(t.getBlock("contentFull"),t,{block:c},null).write("</div>")}function c(e,t){return t=t.shiftBlocks(g),e.block(t.getBlock("contentCoreContainer"),t,{block:u},null).block(t.getBlock("contentAttrContainer"),t,{block:h},null)}function u(e,t){return t=t.shiftBlocks(g),e.write('<div class="post-core-content">').block(t.getBlock("contentCore"),t,{block:f},null).write("</div>")}function f(e,t){return t=t.shiftBlocks(g),e}function h(e,t){return t=t.shiftBlocks(g),e}function p(e,t){return t=t.shiftBlocks(g),e}e.register("theme/item/base",t);var g={headerContainer:n,contentMainBody:i};return t}(),{render:function(t,n){return e.render("theme/item/base",t,n)}}}),liveblog.define("themeFile",["css!theme/liveblog","plugins/button-pagination","plugins/twitter-widgets","plugins/post-hash","plugins/permanent-link","plugins/social-share","plugins/wrappup-toggle","tmpl!theme/container","tmpl!theme/item/base"],function(){return{plugins:["button-pagination","twitter-widgets","post-hash","permanent-link","social-share","wrappup-toggle"]}});